datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Passenger {
  id       String @id @default(cuid())
  email    String @unique
  password Password?
  name     String 

  airports Airport[] // [source, layover, ..., destination] 
  airplanes Airplane[] // [source, layover, ..., destination]
  seats Seat[] // [source, layover, ..., destination]
} 

model Password {
  hash String

  passenger Passenger  @relation(fields: [passengerId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  passengerId String @unique
}

model Airport {
  id String @id @default(cuid())
  name String @unique
  city String
  state String
  country String

  airplanes Airplane[]
  passengers Passenger[]
}

model Airplane {
  id String @id @default(cuid())

  airports Airport[] 
  
  passengers Passenger[]

  seats Seat[] 

  departure_time DateTime
  arrival_time DateTime
}

model Seat {
  id String @id @default(cuid())
  seat_number Int
  seat_row Int
  seat_class String

  airplane Airplane @relation(fields: [airplaneId], references: [id])
  airplaneId String

  passengers Passenger[]
}
